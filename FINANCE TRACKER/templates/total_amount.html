{% extends "base.html" %}

{% block title %}Total Amount{% endblock %}

{% block content %}
    <h2>Total Amount</h2>
    
    
    <form method="POST" action="{{ url_for('total_amount') }}">
        <label for="month">Select Month:</label>
        <select id="month" name="month" required>
            {% for month in range(1, 13) %}
                <option value="{{ month }}" {% if month == selected_month %}selected{% endif %}>
                    {{ month }}
                </option>
            {% endfor %}
        </select>

        <label for="year">Select Year:</label>
        <select id="year" name="year" required>
            {% for year in range(2020, current_year + 1) %}
                <option value="{{ year }}" {% if year == selected_year %}selected{% endif %}>
                    {{ year }}
                </option>
            {% endfor %}
        </select>

        <button type="submit">Calculate</button>
    </form>

    {% if total_income is not none %}
        <div>
            <h3>Results for {{ selected_month }}/{{ selected_year }}</h3>
            <p><strong>Total Income:</strong> ${{ total_income }}</p>
            <p><strong>Total Expense:</strong> ${{ total_expense }}</p>
            <p><strong>Net Total:</strong> ${{ net_total }}</p>
        </div>
    {% endif %}

{% endblock %}
